"use strict";function wpil_link_clicked(e){var i="",a=!1,n="",t=["img","svg"];if((1==e.which||0==e.button||2==e.which||4==e.button)&&!(this.length<1)&&"1"!==wpilFrontend.disableClicks&&void 0!==this.href&&"#"!==this.href){if(!function e(r){if(r.children.length>0)for(var o in r.children){var s=r.children[o];if(void 0!==s.children&&s.children.length>0&&""===i&&e(s),1===s.nodeType&&-1!==t.indexOf(s.nodeName.toLowerCase())&&""===n){a=!0;var l=void 0!==s.title?s.title:"";void 0!==l&&(n=l.trim())}i=i.trim(),n=void 0!==n?n.trim():""}void 0!==r.outerText&&(i=r.outerText)}(this),""===i&&a?i=""!==n?wpilFrontend.clicksI18n.imageText+n:wpilFrontend.clicksI18n.imageNoText:""!==i||a||(i=wpilFrontend.clicksI18n.noText),!("0"===wpilFrontend.trackAllElementClicks&&hasParentElements(this,"header, footer, nav, [id~=header], [id~=menu], [id~=footer], [id~=widget], [id~=comment], [class~=header], [class~=menu], [class~=footer], [class~=widget], [class~=comment], #wpadminbar"))){var r=getLinkLocation(this);makeAjaxCall({action:"wpil_link_clicked",post_id:wpilFrontend.postId,post_type:wpilFrontend.postType,link_url:this.href,link_anchor:i,link_location:r})}}}[].forEach.call(document.querySelectorAll("a"),function(e){e.addEventListener("click",wpil_link_clicked),e.addEventListener("auxclick",wpil_link_clicked)}),window.addEventListener("load",function(){setTimeout(openLinksInNewTab,150)});var newTabTries=0;function openLinksInNewTab(){if(newTabTries++,"undefined"==typeof wpilFrontend){if(newTabTries>10)return;setTimeout(openLinksInNewTab,1e3);return}"undefined"!=typeof wpilFrontend&&0!=wpilFrontend.openLinksWithJS&&(0!=wpilFrontend.openExternalInNewTab||0!=wpilFrontend.openInternalInNewTab)&&[].forEach.call(document.querySelectorAll("a"),function(e){if(!hasParentElements(e,"header, footer, nav, [id~=header], [id~=menu], [id~=footer], [id~=widget], [id~=comment], [class~=header], [class~=menu], [class~=footer], [class~=widget], [class~=comment], #wpadminbar")&&e.href&&!e.target&&-1===e.href.indexOf(window.location.href)){var i=new URL(e.href),a=window.location.hostname===i.hostname;(a&&parseInt(wpilFrontend.openInternalInNewTab)||!a&&parseInt(wpilFrontend.openExternalInNewTab))&&e.setAttribute("target","_blank")}})}function hasParentElements(e,i=""){var a=!!e&&e.tagName.toLowerCase();if(!e||"body"===a||"main"===a||"article"===a)return!1;"string"==typeof i&&(i=i.split(","));var n=!1;for(var t in i){var r=i[t];if(-1!==r.indexOf("id~=")){var o=r.replace(/\[id~=|\]/g,"").trim();if(void 0!==e.id&&""!==e.id&&-1!==e.id.indexOf(o)){n=!0;break}}else if(-1!==r.indexOf("class~=")){var o=r.replace(/\[class~=|\]/g,"").trim();if(void 0!==e.classList&&""!==e.className&&-1!==e.className.indexOf(o)){n=!0;break}}else if(-1!==r.indexOf("#")){var o=r.replace(/#/g,"").trim();if(void 0!==e.id&&""!==e.id&&o===e.id){n=!0;break}}else if(!r.match(/[^a-zA-Z]/)){var o=r.trim();if(e.tagName.toLowerCase()===o){n=!0;break}}}return!!n||""!==e.parentNode&&hasParentElements(e.parentNode,i)}function makeAjaxCall(e={}){window.jQuery?callWithJquery(e):callWithVanilla(e)}function callWithJquery(e={}){jQuery.ajax({type:"POST",url:wpilFrontend.ajaxUrl,data:e,success:function(e){}})}function callWithVanilla(e={}){async function i(e,i){var a=wpilFrontend.ajaxUrl,n=new XMLHttpRequest,t=[];for(var r in e)t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));t=t.join("&"),n.open("POST",a),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(t)}i(e,function e(i){void 0!==i.currentTarget&&console.log(i.currentTarget.response)})}function getLinkLocation(e){var i="Body Content",a={Search:["search","[id~=search]","[class~=search]"],Header:["header","[id~=header]","[class~=header]"],"Comment Section":["[id~=comment]","[class~=comment]"],Footer:["footer","[id~=footer]","[class~=footer]"],Menu:["[id~=menu]","[class~=menu]"],Navigation:["nav"],Sidebar:["sidebar","[id~=sidebar]","[class~=sidebar]","[id~=widget]","[class~=widget]"],"Body Content":["main","article","[class~=main]"]};if(!e||"body"===e.tagName.toLowerCase())return i;var n=!1;elementLoop:for(var t in a){var r=a[t];for(var o in r){var s=r[o];if(-1!==s.indexOf("id~=")){var l=s.replace(/\[id~=|\]/g,"").trim();if(void 0!==e.id&&""!==e.id&&-1!==e.id.indexOf(l)){n=!0,i=t;break elementLoop}}else if(-1!==s.indexOf("class~=")){var l=s.replace(/\[class~=|\]/g,"").trim();if(void 0!==e.classList&&""!==e.className&&-1!==e.className.indexOf(l)){n=!0,i=t;break elementLoop}}else if(-1!==s.indexOf("#")){var l=s.replace(/#/g,"").trim();if(void 0!==e.id&&""!==e.id&&l===e.id){n=!0,i=t;break elementLoop}}else if(!s.match(/[^a-zA-Z]/)){var l=s.trim();if(e.tagName.toLowerCase()===l){n=!0,i=t;break elementLoop}}}}return n?i:""!==e.parentNode&&getLinkLocation(e.parentNode)}